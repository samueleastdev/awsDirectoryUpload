"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRegionInfo = void 0;
const getResolvedHostname_1 = require("./getResolvedHostname");
const getResolvedPartition_1 = require("./getResolvedPartition");
const getRegionInfo = (region, { signingService, regionHash, partitionHash }) => {
    var _a, _b, _c, _d;
    const partition = getResolvedPartition_1.getResolvedPartition(region, { partitionHash });
    const resolvedRegion = (_b = (_a = partitionHash[partition]) === null || _a === void 0 ? void 0 : _a.endpoint) !== null && _b !== void 0 ? _b : region;
    return {
        partition,
        signingService,
        hostname: getResolvedHostname_1.getResolvedHostname(resolvedRegion, { signingService, regionHash, partitionHash }),
        ...(((_c = regionHash[resolvedRegion]) === null || _c === void 0 ? void 0 : _c.signingRegion) && {
            signingRegion: regionHash[resolvedRegion].signingRegion,
        }),
        ...(((_d = regionHash[resolvedRegion]) === null || _d === void 0 ? void 0 : _d.signingService) && {
            signingService: regionHash[resolvedRegion].signingService,
        }),
    };
};
exports.getRegionInfo = getRegionInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0UmVnaW9uSW5mby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yZWdpb25JbmZvL2dldFJlZ2lvbkluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsK0RBQW9HO0FBQ3BHLGlFQUE2RTtBQU10RSxNQUFNLGFBQWEsR0FBRyxDQUMzQixNQUFjLEVBQ2QsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBd0IsRUFDdkQsRUFBRTs7SUFDZCxNQUFNLFNBQVMsR0FBRywyQ0FBb0IsQ0FBQyxNQUFNLEVBQUUsRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sY0FBYyxHQUFHLE1BQUEsTUFBQSxhQUFhLENBQUMsU0FBUyxDQUFDLDBDQUFFLFFBQVEsbUNBQUksTUFBTSxDQUFDO0lBQ3BFLE9BQU87UUFDTCxTQUFTO1FBQ1QsY0FBYztRQUNkLFFBQVEsRUFBRSx5Q0FBbUIsQ0FBQyxjQUFjLEVBQUUsRUFBRSxjQUFjLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxDQUFDO1FBQzVGLEdBQUcsQ0FBQyxDQUFBLE1BQUEsVUFBVSxDQUFDLGNBQWMsQ0FBQywwQ0FBRSxhQUFhLEtBQUk7WUFDL0MsYUFBYSxFQUFFLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQyxhQUFhO1NBQ3hELENBQUM7UUFDRixHQUFHLENBQUMsQ0FBQSxNQUFBLFVBQVUsQ0FBQyxjQUFjLENBQUMsMENBQUUsY0FBYyxLQUFJO1lBQ2hELGNBQWMsRUFBRSxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUMsY0FBYztTQUMxRCxDQUFDO0tBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQWpCVyxRQUFBLGFBQWEsaUJBaUJ4QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZ2lvbkluZm8gfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgZ2V0UmVzb2x2ZWRIb3N0bmFtZSwgR2V0UmVzb2x2ZWRIb3N0bmFtZU9wdGlvbnMsIFJlZ2lvbkhhc2ggfSBmcm9tIFwiLi9nZXRSZXNvbHZlZEhvc3RuYW1lXCI7XG5pbXBvcnQgeyBnZXRSZXNvbHZlZFBhcnRpdGlvbiwgUGFydGl0aW9uSGFzaCB9IGZyb20gXCIuL2dldFJlc29sdmVkUGFydGl0aW9uXCI7XG5cbmV4cG9ydCB7IFJlZ2lvbkhhc2gsIFBhcnRpdGlvbkhhc2ggfTtcblxuZXhwb3J0IGludGVyZmFjZSBHZXRSZWdpb25JbmZvT3B0aW9ucyBleHRlbmRzIEdldFJlc29sdmVkSG9zdG5hbWVPcHRpb25zIHt9XG5cbmV4cG9ydCBjb25zdCBnZXRSZWdpb25JbmZvID0gKFxuICByZWdpb246IHN0cmluZyxcbiAgeyBzaWduaW5nU2VydmljZSwgcmVnaW9uSGFzaCwgcGFydGl0aW9uSGFzaCB9OiBHZXRSZWdpb25JbmZvT3B0aW9uc1xuKTogUmVnaW9uSW5mbyA9PiB7XG4gIGNvbnN0IHBhcnRpdGlvbiA9IGdldFJlc29sdmVkUGFydGl0aW9uKHJlZ2lvbiwgeyBwYXJ0aXRpb25IYXNoIH0pO1xuICBjb25zdCByZXNvbHZlZFJlZ2lvbiA9IHBhcnRpdGlvbkhhc2hbcGFydGl0aW9uXT8uZW5kcG9pbnQgPz8gcmVnaW9uO1xuICByZXR1cm4ge1xuICAgIHBhcnRpdGlvbixcbiAgICBzaWduaW5nU2VydmljZSxcbiAgICBob3N0bmFtZTogZ2V0UmVzb2x2ZWRIb3N0bmFtZShyZXNvbHZlZFJlZ2lvbiwgeyBzaWduaW5nU2VydmljZSwgcmVnaW9uSGFzaCwgcGFydGl0aW9uSGFzaCB9KSxcbiAgICAuLi4ocmVnaW9uSGFzaFtyZXNvbHZlZFJlZ2lvbl0/LnNpZ25pbmdSZWdpb24gJiYge1xuICAgICAgc2lnbmluZ1JlZ2lvbjogcmVnaW9uSGFzaFtyZXNvbHZlZFJlZ2lvbl0uc2lnbmluZ1JlZ2lvbixcbiAgICB9KSxcbiAgICAuLi4ocmVnaW9uSGFzaFtyZXNvbHZlZFJlZ2lvbl0/LnNpZ25pbmdTZXJ2aWNlICYmIHtcbiAgICAgIHNpZ25pbmdTZXJ2aWNlOiByZWdpb25IYXNoW3Jlc29sdmVkUmVnaW9uXS5zaWduaW5nU2VydmljZSxcbiAgICB9KSxcbiAgfTtcbn07XG4iXX0=