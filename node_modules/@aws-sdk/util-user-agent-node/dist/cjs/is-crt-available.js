"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isCrtAvailable = void 0;
const isCrtAvailable = () => {
    try {
        // Attempt to load ambient package aws-crt to verify if it exists.
        // We cannot use dynamic import(https://github.com/tc39/proposal-dynamic-import) here because bundlers
        // (WebPack, Rollup) will try to bundle this optional dependency and fail to build if not exist.
        // Thus this user agent key will only available in Node.js runtime.
        if (typeof require === "function" && typeof module !== "undefined" && module.require && require("aws-crt")) {
            // Validate `module` to make sure this is not in a `require.js` scope.
            // TODO: load package version.
            return ["md/crt-avail"];
        }
        return null;
    }
    catch (e) {
        // No aws-crt package available in the runtime.
        return null;
    }
};
exports.isCrtAvailable = isCrtAvailable;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtY3J0LWF2YWlsYWJsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pcy1jcnQtYXZhaWxhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVPLE1BQU0sY0FBYyxHQUFHLEdBQXlCLEVBQUU7SUFDdkQsSUFBSTtRQUNGLGtFQUFrRTtRQUNsRSxzR0FBc0c7UUFDdEcsZ0dBQWdHO1FBQ2hHLG1FQUFtRTtRQUNuRSxJQUFJLE9BQU8sT0FBTyxLQUFLLFVBQVUsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDMUcsc0VBQXNFO1lBQ3RFLDhCQUE4QjtZQUM5QixPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7U0FDekI7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDViwrQ0FBK0M7UUFDL0MsT0FBTyxJQUFJLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQWhCVyxRQUFBLGNBQWMsa0JBZ0J6QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJBZ2VudFBhaXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGlzQ3J0QXZhaWxhYmxlID0gKCk6IFVzZXJBZ2VudFBhaXIgfCBudWxsID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBBdHRlbXB0IHRvIGxvYWQgYW1iaWVudCBwYWNrYWdlIGF3cy1jcnQgdG8gdmVyaWZ5IGlmIGl0IGV4aXN0cy5cbiAgICAvLyBXZSBjYW5ub3QgdXNlIGR5bmFtaWMgaW1wb3J0KGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWR5bmFtaWMtaW1wb3J0KSBoZXJlIGJlY2F1c2UgYnVuZGxlcnNcbiAgICAvLyAoV2ViUGFjaywgUm9sbHVwKSB3aWxsIHRyeSB0byBidW5kbGUgdGhpcyBvcHRpb25hbCBkZXBlbmRlbmN5IGFuZCBmYWlsIHRvIGJ1aWxkIGlmIG5vdCBleGlzdC5cbiAgICAvLyBUaHVzIHRoaXMgdXNlciBhZ2VudCBrZXkgd2lsbCBvbmx5IGF2YWlsYWJsZSBpbiBOb2RlLmpzIHJ1bnRpbWUuXG4gICAgaWYgKHR5cGVvZiByZXF1aXJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUucmVxdWlyZSAmJiByZXF1aXJlKFwiYXdzLWNydFwiKSkge1xuICAgICAgLy8gVmFsaWRhdGUgYG1vZHVsZWAgdG8gbWFrZSBzdXJlIHRoaXMgaXMgbm90IGluIGEgYHJlcXVpcmUuanNgIHNjb3BlLlxuICAgICAgLy8gVE9ETzogbG9hZCBwYWNrYWdlIHZlcnNpb24uXG4gICAgICByZXR1cm4gW1wibWQvY3J0LWF2YWlsXCJdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIE5vIGF3cy1jcnQgcGFja2FnZSBhdmFpbGFibGUgaW4gdGhlIHJ1bnRpbWUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG4iXX0=