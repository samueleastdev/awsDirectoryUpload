"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getChunkBuffer = void 0;
async function* getChunkBuffer(data, partSize) {
    let partNumber = 1;
    let startByte = 0;
    let endByte = partSize;
    while (endByte < data.byteLength) {
        yield {
            partNumber,
            data: data.slice(startByte, endByte),
        };
        partNumber += 1;
        startByte = endByte;
        endByte = startByte + partSize;
    }
    yield {
        partNumber,
        data: data.slice(startByte),
        lastPart: true,
    };
}
exports.getChunkBuffer = getChunkBuffer;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0Q2h1bmtCdWZmZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY2h1bmtzL2dldENodW5rQnVmZmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVPLEtBQUssU0FBUyxDQUFDLENBQUMsY0FBYyxDQUFDLElBQVksRUFBRSxRQUFnQjtJQUNsRSxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDbkIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUV2QixPQUFPLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFO1FBQ2hDLE1BQU07WUFDSixVQUFVO1lBQ1YsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQztTQUNyQyxDQUFDO1FBQ0YsVUFBVSxJQUFJLENBQUMsQ0FBQztRQUNoQixTQUFTLEdBQUcsT0FBTyxDQUFDO1FBQ3BCLE9BQU8sR0FBRyxTQUFTLEdBQUcsUUFBUSxDQUFDO0tBQ2hDO0lBRUQsTUFBTTtRQUNKLFVBQVU7UUFDVixJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7UUFDM0IsUUFBUSxFQUFFLElBQUk7S0FDZixDQUFDO0FBQ0osQ0FBQztBQXBCRCx3Q0FvQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSYXdEYXRhUGFydCB9IGZyb20gXCIuLi9VcGxvYWRcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBnZXRDaHVua0J1ZmZlcihkYXRhOiBCdWZmZXIsIHBhcnRTaXplOiBudW1iZXIpOiBBc3luY0dlbmVyYXRvcjxSYXdEYXRhUGFydCwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gIGxldCBwYXJ0TnVtYmVyID0gMTtcbiAgbGV0IHN0YXJ0Qnl0ZSA9IDA7XG4gIGxldCBlbmRCeXRlID0gcGFydFNpemU7XG5cbiAgd2hpbGUgKGVuZEJ5dGUgPCBkYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICB5aWVsZCB7XG4gICAgICBwYXJ0TnVtYmVyLFxuICAgICAgZGF0YTogZGF0YS5zbGljZShzdGFydEJ5dGUsIGVuZEJ5dGUpLFxuICAgIH07XG4gICAgcGFydE51bWJlciArPSAxO1xuICAgIHN0YXJ0Qnl0ZSA9IGVuZEJ5dGU7XG4gICAgZW5kQnl0ZSA9IHN0YXJ0Qnl0ZSArIHBhcnRTaXplO1xuICB9XG5cbiAgeWllbGQge1xuICAgIHBhcnROdW1iZXIsXG4gICAgZGF0YTogZGF0YS5zbGljZShzdGFydEJ5dGUpLFxuICAgIGxhc3RQYXJ0OiB0cnVlLFxuICB9O1xufVxuIl19